<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Mantenemos la mayoría de los <script>, <style> y recursos tal cual: JW Player, Flowplayer, etc. -->
    <title>WebTV Player</title>
    <!-- ... Resto de tus librerías y estilos ... -->
</head>
<body class="attechback">
<!-- ... Todo el HTML de la cabecera, buscadores, menús y contenedores ... -->

<script type="text/javascript">
// == Parte importante: ajustaremos la reproducción para usar siempre la URL fija ==

// NUEVA URL QUE QUEREMOS REPRODUCIR
var FIXED_STREAM_URL = "http://45.137.206.120:8089/play/hls/eyJpdiI6Im1lSFRmdS9SaUorUXY5QXB5emYra0E9PSIsInZhbHVlIjoibHUrcktTNWZBdXB6VnM4MXVFRWh4aVl0UEM5c1RxN0ZIelN4d080YzhrcjNxN0xNNktrT0FkcnZaM0FkYzViMCIsIm1hYyI6ImE5OTg2MGUzMjJmODA1MzM5M2RiYWMyOTNlZDBmNWEwZjAxMzA0NDQzMzhjMTM1NDY2Yjc4OGE1OTBlNDU5YmIiLCJ0YWciOiIifQ==/be609419-a9e1-471e-8144-8df2c2290f30.m3u8?lvtoken=eyJpdiI6InYrcHlkcE9nV3JzYk1uRDBmUWtTSkE9PSIsInZhbHVlIjoialUrRkVjZDVKamptL1BaMVFsN0txeTZqdUtDRWlhZ0p0RjlacWgvek0rWVBoV2hYQXBvSUlNTFZHVTNWcW03MzhzMEc2ZTJubWY1L3BDdnpyK215WDd6b2Q5TmtmWDVkRWtlMzhMTi85ODdhM2hOSW00MjBucmNmc3V1bmdmbGtaOTZWMERZbVRNV3p0Vi8wcmQ2WHdiblh6VjZsSlBldXQ5ZC9VS3BjVVY4bEtqSyt1dG9vRWNqUHMvWk1SRWYrdW9GdVpNNVA4aVA3Yml0RXNjSURiUT09IiwibWFjIjoiMTNmNjg0MzkzNGIyYjYwZTk1NTg4MGE1N2RjYWEzZTMwOTMwYWMwNmI4NzY2OTQ3YzNhYzQ1NjAwOTAxNmI0OCIsInRhZyI6IiJ9&r=06a307&rt=6ba56e71afbc6a418156df8a892b1b4b";

// -------------------------------------------------------------
// 1) Ajustamos esta función para que *siempre* use la URL fija
// -------------------------------------------------------------
function playchannesandconfigEPG(streamId) {
    // (Si quieres conservar la lógica de "historial" o "EPG", puedes dejarla;
    //  sólo nos interesa que la URL final siempre sea FIXED_STREAM_URL.)

    // Por simplicidad, comentaré la parte que generaba la URL dinámica:
    //   playlinkis = "http://offshore.lat:8080/live/garoo38cmsv/monicoo38ndz/"+streamId+".m3u8";

    // En su lugar, forzamos la URL fija:
    var playlinkis = FIXED_STREAM_URL;

    // El resto (historial, EPG, etc.) se conserva:
    currentPlayingStream = streamId;  // o en todo caso, podrías omitirlo.
    // Llamamos al reproductor JW o Flowplayer según la config:
    if (changePlayerSetting === 'JW Player (Recommended)') {
        getVideoLinkAjax(playlinkis);
    } else {
        getVideoLinkAjax_InFlowplayer(playlinkis);
    }

    // ... A continuación, si quieres seguir mostrando EPG para "streamId",
    //     puedes llamar tu AJAX de EPG. O podrías también eliminarlo si
    //     ya no usas streamId para nada.
    showHideLoaderEPGData();

    // Mantengo el AJAX EPG, suponiendo que tu backend requiere "stream_id"
    // para devolver datos:
    $.ajax({
       type: "POST",
       url: "themes/"+currentthemename+"/includes/requesthandler.php",
       dataType:"text",
       data:{
         action:"callApiRequestEpg",
         subaction:"get_short_epg&stream_id="+streamId,  // Envías el ID igual
         tformat:selectedtime,
         etimes:selectedepgtime
       },
       success: function (data) {
          $('.liveEPGdiv').html(data);
          // ...
       },
       error: function (error) {
          showerrorcode("101",".mainBody");
       }
    });
}

// -------------------------------------------------------------
// 2) Dejamos getVideoLinkAjax tal cual, sólo que ahora siempre
//    recibe playlinkis = FIXED_STREAM_URL
// -------------------------------------------------------------
function getVideoLinkAjax($Videolink = "", FailCounter = "") {
    // ...
    var $LiveVideoLink = $Videolink;  // ahora siempre = FIXED_STREAM_URL

    if(reconnectInt !== null || reconnectInt !== undefined) {
      clearInterval(reconnectInt);
    }

    var player = jwplayer('liveplayer-wrapper');
    player.setup({
        "file": $LiveVideoLink,
        "width":"100%",
        "aspectratio": "16:9"
    });

    // Resto de la lógica de reconexión y error:
    player.on('play', function(){
        // ...
    });
    player.on('error', function() {
        // ...
        reconnectLoop($LiveVideoLink, FailCounter);
    });
}

// -------------------------------------------------------------
// 3) Dejamos también getVideoLinkAjax_InFlowplayer igual, si
//    prefieres Flowplayer en vez de JW Player
// -------------------------------------------------------------
function getVideoLinkAjax_InFlowplayer($Videolink = "") {
    var timer = "";
    initialDelay = 10;

    // Eliminamos la URL previa y ponemos la nueva:
    // #liveplayer-wrapper se resetea y configuras flowplayer con $Videolink
    // ...
}

// -------------------------------------------------------------
// 4) IMPORTANTE: El resto de la lógica (búsqueda de canales, guardado
//    en historial, etc.) permanece igual. Lo ÚNICO que cambiamos es
//    la parte donde se forma la URL HLS, para que sea la fija.
// -------------------------------------------------------------

</script>

<!-- Resto del HTML completo tal cual tu proyecto... -->
</body>
</html>
